function dialogCallBack(n){console.log(n);n==1&&Invoke.openNetworkConnections()}var App={startApplication:function(){ConnectionStatus.check();bb.pushScreen("home.html","homeScr")},alert:function(n,t){blackberry.ui.dialog.standardAskAsync(n,blackberry.ui.dialog.D_OK,function(){},{title:t})},getValues:function(){var t=localStorage.getItem("lastDurakNo"),i,r,u,n;return t?(u=localStorage.getItem("lastHatNo"),n={durakNo:t,hatNo:u},this.values=n,n):(i="Lütfen bir durak numarası giriniz",r="Durak No",App.alert(i,r),null)},values:null,url:"",getBusInfo:function(){var e=App.getValues(),u,f,o,s,r,n,t,i,h;if(!e)return null;u=!1;$.each(bb.screens,function(n,t){t.id=="busInfoScr"&&(u=!0)});u==!1&&bb.pushScreen("busInfo.html","busInfoScr");Spinner.on();App.url="";f=e.durakNo;f?App.url="http://kentkart.com/services/resim.php?region=006&stopid="+f:($.isEmptyObject(data)||data.Row<1)&&(o="Otobüs bulunamadı..",s="Sonuç",App.alert(o,s));r=new Date;n=r.getHours();n<10&&(n="0"+n);t=r.getMinutes();t<10&&(t="0"+t);i=r.getSeconds();i<10&&(i="0"+i);h=n+":"+t+":"+i;$("#lblLastUpdateTime").html("Son güncellenme: "+h)},showBusInfo:function(){var f=App.url,u=$("#durakImg"),r,n,t,i,e;u.attr("src",f);f?u.show():u.hide();r=new Date;n=r.getHours();n<10&&(n="0"+n);t=r.getMinutes();t<10&&(t="0"+t);i=r.getSeconds();i<10&&(i="0"+i);e=n+":"+t+":"+i;$("#lblLastUpdateTime").html("Son güncellenme: "+e);Spinner.off();Timer.start()}},Application={initialize:function(){this.bindEvents()},bindEvents:function(){document.addEventListener("deviceready",this.onDeviceReady,!1);document.addEventListener("offline",ConnectionStatus.offline,!1);document.addEventListener("online",ConnectionStatus.online,!1)},onDeviceReady:function(){Application.receivedEvent("deviceready");bb.init({actionBarDark:!0,controlsDark:!0,listsDark:!1,onscreenready:function(){},ondomready:function(n,t){$("#txtDurakNo").val(localStorage.getItem("lastDurakNo"));$("#txtHatNo").val(localStorage.getItem("lastHatNo"));$("#txtDurakNo").focus();$("#txtDurakNo").focusout(function(n){var t=$("#txtDurakNo").val();localStorage.setItem("lastDurakNo",t);n.keyCode==13&&App.getBusInfo()});t=="busInfoScr"&&App.showBusInfo()}});App.startApplication()},receivedEvent:function(n){console.log("Received Event: "+n)}},Connection={doAjaxReq:function(n){var r=n.hatNo||"",t=n.durakNo,i="http://kentkart.com/services/resim.php?region=006&stopid="+t;t?$("#durakImg").attr("src",i):$("#durakImg").attr("src","")},returnData:function(n){var t="";try{if(n)t=n;else{console.log("correctedString: "+correctedString);throw"Data boş döndü!";}}catch(i){return console.warn(i),Spinner.off(),null}App.showBusInfo(t)},parseHtml:function(n){var r=[],t,i,f,e;if(!n)return r;var o=$.parseHTML(n),s=$(o).find(".otobusneredemobil"),h=$(s).find("tbody"),u=$(h).find("tr");for(t=0;t<u.length;t=t+3)i={hatNo:"",hatAd:"",varisSure:"",info:""},f=u[t],i.hatNo=$(f).find("th").text().trim(),i.hatAd=$(f).find("td").text().trim(),e=u[t+1],i.varisSure=$(e).find("h6:nth-child(2)").text().trim(),i.info=$(e).find("th h6:nth-child(3)").text().trim(),r.push(i);return r},myIp:"",loadMyIp:function(){}},ConnectionStatus={offline:function(){try{blackberry.ui.dialog.customAskAsync("Devam edebilmek için Wi-Fi ya da mobil bir ağa bağlanın.",["Yoksay","Ayarlar"],dialogCallBack,{title:"Internet bağlantısı yok"});Timer.stop()}catch(n){alert(n);console.warn("Exception in standardDialog: "+n)}},online:function(){Connection.loadMyIp();App.getBusInfo()},check:function(){var n=blackberry.connection.type;console.log("con: "+n);n=="none"?(console.log("internet is offline"),this.offline()):(n==="wifi"||n==="4g"||n==="3g"||n==="2g"||n==="vpn")&&Connection.loadMyIp()}},Invoke={onInvokeError:function(n){console.warn("Invocation failed, error: "+n)},onInvokeSuccess:function(){},openNetworkConnections:function(){blackberry.invoke.invoke({target:"sys.settings.card",action:"bb.action.OPEN",type:"settings/view",uri:"settings://networkconnections"},this.onInvokeSuccess,this.onInvokeError)},maps:function(n){console.log(n);n!=null&&blackberry.invoke.invoke({action:"bb.action.OPEN",type:"application/vnd.rim.map.action-v1",data:JSON.stringify({placemark:{latitude:n.lat,longitude:n.lng}})})},appworldOpenMyVendorPage:function(){blackberry.invoke.invoke({target:"sys.appworld",action:"bb.action.OPEN",uri:"appworld://vendor/54824"},function(){console.log("success")},function(){console.log("error")})}},Spinner={visible:!1,off:function(){$("#spinner").hide();Spinner.visible=!1},on:function(){$("#spinner").show();Spinner.visible=!0}},Timer={working:!1,counter:null,counterFunc:function(){App.getBusInfo();App.showBusInfo()},start:function(){this.working=!0;this.stop();this.counter=setInterval(Timer.counterFunc,3e4)},stop:function(){clearInterval(this.counter);this.working=!1}};
//# sourceMappingURL=app.complete.bundle.min.js.map
